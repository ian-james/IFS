extends ../../shared/views/pageLayout.pug

block scripts
    script(src="/socket.io/socket.io.js")

block content
    div.uk-container.uk-container
        div(uk-alert).uk-alert-danger
            p.uk-align-center.errorMessage #{messages.errorMessage}

        div(uk-grid).uk-grid
            // profile info
            div(class="uk-width-1-3@s uk-width-1-4@m").profile.uk-align-left
                div(class="uk-visible@s").avatar-section
                    div.uk-align-center
                        img(src="../../shared/img/user/" + user.id + "/avatar.png").profile-avatar
                        div.user
                            span.profile-name #{studentProfile.name}
                            br
                            span.profile-username #{user.username} (#{user.id})
                        hr
                        div.bio
                            div.uk-clearfix
                                span.profile-h2.uk-float-left Bio
                                span(uk-icon="icon: quote-right").uk-float-right
                            p.profile-text
                                | #{studentProfile.bio}
                        div.classes
                            span.profile-h2 Classes
                            br
                            dl.uk-description-list.uk-description-list-divider
                                each val,index in courses
                                    dt
                                        strong= val.code + ": " + val.courseName
                                    dd= val.description


            // achievements and upcoming events
            div(class="uk-width-expand").info-section.uk-align-right
                div.achievements
                    if studentStats.length > 0
                        h2 Achievement Progress
                        div.uk-panel.uk-background-muted.uk-padding-small
                            each skill in studentStats
                                include achievement-progress.pug
                    br
                div.events
                    h2 Upcoming Events 
                        span(uk-icon="icon: calendar; ratio: 1.5")
                    if upcomingEvents.length > 0
                        div(uk-grid).uk-grid-small.uk-grid-match
                            each event in upcomingEvents
                                include event-card.pug
                    else
                        p
                            | No upcoming events. You can relax 
                            span(uk-icon="icon: happy").uk-icon
